{% load wagtailadmin_tags %}

<div class="icon-chooser-widget">
    <div class="icon-selector">
        <input type="hidden" name="{{ widget.name }}" {% if widget.value != None %}
               value="{{ widget.value|stringformat:'s' }}" {% endif %}
               id="{{ widget.attrs.id }}" {% include "django/forms/widgets/attrs.html" %}>
        <div style="display: flex;align-items: center">
            <button type="button" id="{{ widget.attrs.id }}-modal-trigger" class="icon-button button button-secondary">
                <span id="{{ widget.attrs.id }}-icon-container" class="icon-container">
                    {% if widget.value %}
                        <div class="icon selected-icon" aria-hidden="true">
                            <img alt="{{ widget.value }}" src="{{ widget.icon_url }}"/></div>
                    {% endif %}
                </span>
                <span class="icon-select-message">
                    Click to choose symbol
                </span>
            </button>
            <button class="button button-small no" id="{{ widget.attrs.id }}-icon-choice-clear" type="button"
                    style="{% if not widget.value %}display:none;{% endif %} ">
                <span>Clear choice</span>
            </button>
        </div>
    </div>
</div>